// Generated by CoffeeScript 1.5.0
(function() {
  var Photo, Slideshow;

  Photo = (function() {

    function Photo(src, preload, onLoad) {
      this.src = src;
      if (preload) {
        this.image = $("<img />")[0].src = this.src;
        if (onLoad) {
          this.image.onload = onLoad;
        }
      }
    }

    return Photo;

  })();

  Slideshow = (function() {

    function Slideshow(imgSelector) {
      var imageCandidates, img, self;
      self = this;
      this.container = $(imgSelector);
      imageCandidates = (function() {
        var _i, _len, _ref, _results;
        _ref = $("" + imgSelector + " div");
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          img = _ref[_i];
          _results.push($(img).data("src"));
        }
        return _results;
      })();
      this.photos = [
        new Photo(imageCandidates[0], true, function(event) {
          return self.render();
        })
      ];
      this.photos.concat((function() {
        var _i, _len, _ref, _results;
        _ref = imageCandidates.slice(1);
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          img = _ref[_i];
          _results.push(new Photo(img, true, false));
        }
        return _results;
      })());
      this.renderContainer();
    }

    Slideshow.prototype.renderContainer = function() {
      var height;
      height = Math.floor(window.screen.width / 1.33);
      return this.container.css({
        width: "device-width",
        height: height
      });
    };

    return Slideshow;

  })();

}).call(this);
